<div align="center">
  <img src="https://i-blog.csdnimg.cn/direct/8abea218c2804256a17cc8f2d6c81630.jpeg" width="150" >
  <h1><strong>ç„åŒ 765 (xt765)</strong></h1>
  <p><strong>LLM å¼€å‘å·¥ç¨‹å¸ˆ | ä¸­å›½ä¼ åª’å¤§å­¦ Â· æ•°å­—åª’ä½“æŠ€æœ¯</strong></p>
  <p>
    <a href="https://blog.csdn.net/Yunyi_Chi" target="_blank" style="text-decoration: none;">
      <span style="background-color: #f39c12; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; display: inline-block;">CSDN Â· ä¸»é¡µ |</span>
    </a>
    <a href="https://github.com/xt765" target="_blank" style="text-decoration: none; margin-left: 8px;">
      <span style="background-color: #24292e; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; font-weight: bold; display: inline-block;">GitHub Â· Follow</span>
    </a>
  </p>
</div>

---

### **å…³äºä½œè€…**

- **ä¸“æ³¨é¢†åŸŸ**ï¼šLLM å¼€å‘ / RAG çŸ¥è¯†åº“ / AI Agent å®ç° / æ¨¡å‹å¾®è°ƒ
- **æŠ€æœ¯æ ˆ**ï¼šPython | RAG (LangChain / Dify + Milvus) | FastAPI + Docker
- **å·¥ç¨‹åŒ–**ï¼šæ¨¡å‹å·¥ç¨‹éƒ¨ç½²ã€çŸ¥è¯†åº“æ­å»ºä¼˜åŒ–ã€å…¨æ ˆè§£å†³æ–¹æ¡ˆ

> **"è®© AI äº¤äº’æ›´æ™ºèƒ½ï¼Œè®©æŠ€æœ¯è½åœ°æ›´é«˜æ•ˆ"**
> æ¬¢è¿æŠ€æœ¯äº¤æµå’Œé¡¹ç›®åˆä½œï¼

---

# FinchBot - çœŸæ­£çµæ´»çš„ AI Agent æ¡†æ¶

![Banner](https://i-blog.csdnimg.cn/direct/89e72e3b66ff4adc8ab8aa90400385ef.png)

> ä½œè€…ï¼šç„åŒ 765 (xt765)
> é¡¹ç›®ï¼š[GitHub - FinchBot](https://github.com/xt765/FinchBot) | [Gitee - FinchBot](https://gitee.com/xt765/FinchBot)

**ğŸ‰ Gitee å®˜æ–¹æ¨èé¡¹ç›®** â€” FinchBot å·²è·å¾— Gitee å®˜æ–¹æ¨èï¼

---

## æ‘˜è¦

FinchBot æ˜¯ä¸€ä¸ªåŸºäº **LangChain v1.2** å’Œ **LangGraph v1.0** æ„å»ºçš„è½»é‡çº§ã€æ¨¡å—åŒ– AI Agent æ¡†æ¶ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ª LLM åŒ…è£…å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æ¶æ„ï¼Œä¸“æ³¨äºä¸‰ä¸ªæ ¸å¿ƒæŒ‘æˆ˜ï¼š

1. **å¦‚ä½•å®ç° Agent æ— é™æ‰©å±•ï¼Ÿ** â€”â€” é€šè¿‡æŠ€èƒ½å’Œå·¥å…·çš„åŒå±‚æ‰©å±•æœºåˆ¶
2. **å¦‚ä½•èµ‹äºˆ Agent çœŸæ­£çš„è®°å¿†ï¼Ÿ** â€”â€” é€šè¿‡åŒå±‚å­˜å‚¨æ¶æ„ + Agentic RAG
3. **å¦‚ä½•è®© Agent è¡Œä¸ºå¯å®šåˆ¶ï¼Ÿ** â€”â€” é€šè¿‡åŠ¨æ€æç¤ºè¯æ–‡ä»¶ç³»ç»Ÿ

æœ¬æ–‡æ·±å…¥æ¢è®¨ FinchBot çš„æ¶æ„è®¾è®¡ï¼Œå±•ç¤ºä¸€ä¸ªç”Ÿäº§çº§ Agent æ¡†æ¶çš„è¯ç”Ÿè¿‡ç¨‹ã€‚

---

## 1. ä¸ºä»€ä¹ˆé€‰æ‹© FinchBotï¼Ÿ

å¸‚é¢ä¸Šæœ‰è¿™ä¹ˆå¤š AI Agent æ¡†æ¶ï¼Œä½ å¯èƒ½ä¼šé—®ï¼šä¸ºä»€ä¹ˆæ˜¯ FinchBotï¼Ÿ

### 1.1 ç°æœ‰æ¡†æ¶çš„ç—›ç‚¹

| ç—›ç‚¹ | ä¼ ç»Ÿæ–¹æ¡ˆ | FinchBot è§£å†³æ–¹æ¡ˆ |
| :---: | :--- | :--- |
| **éš¾ä»¥æ‰©å±•** | ä¿®æ”¹æ ¸å¿ƒä»£ç  | ç»§æ‰¿åŸºç±»æˆ–åˆ›å»º Markdown æ–‡ä»¶ |
| **è®°å¿†è„†å¼±** | ä¾èµ– LLM ä¸Šä¸‹æ–‡çª—å£ | åŒå±‚æŒä¹…åŒ–å­˜å‚¨ + è¯­ä¹‰æ£€ç´¢ |
| **æç¤ºè¯åƒµåŒ–** | ç¡¬ç¼–ç åœ¨æºç ä¸­ | æ–‡ä»¶ç³»ç»Ÿæ”¯æŒçƒ­é‡è½½ |
| **æ¶æ„è¿‡æ—¶** | æ—§ç‰ˆ LangChain API | LangChain v1.2 + LangGraph v1.0 |

### 1.2 è®¾è®¡å“²å­¦

```mermaid
graph BT
    classDef roof fill:#ffebee,stroke:#c62828,stroke-width:3px,color:#b71c1c,rx:10,ry:10;
    classDef pillar fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,color:#0d47a1,rx:8,ry:8;
    classDef base fill:#e8f5e9,stroke:#2e7d32,stroke-width:3px,color:#1b5e20,rx:10,ry:10;

    Roof("<b>FinchBot Framework</b><br/>è½»é‡ â€¢ çµæ´» â€¢ æ— é™æ‰©å±•"):::roof

    subgraph Pillars [æ ¸å¿ƒå“²å­¦]
        direction LR
        P("<b>éšç§ä¼˜å…ˆ</b><br/>æœ¬åœ° Embedding<br/>æ•°æ®ä¸ä¸Šäº‘"):::pillar
        M("<b>æ¨¡å—åŒ–</b><br/>å·¥å‚æ¨¡å¼<br/>ç»„ä»¶è§£è€¦"):::pillar
        D("<b>å¼€å‘è€…å‹å¥½</b><br/>ç±»å‹å®‰å…¨<br/>æ–‡æ¡£å®Œå–„"):::pillar
        S("<b>æé€Ÿå¯åŠ¨</b><br/>å…¨å¼‚æ­¥æ¶æ„<br/>çº¿ç¨‹æ± å¹¶å‘"):::pillar
        O("<b>å¼€ç®±å³ç”¨</b><br/>é›¶é…ç½®<br/>è‡ªåŠ¨é™çº§"):::pillar
    end

    Base("<b>æŠ€æœ¯åŸºçŸ³</b><br/>LangChain v1.2 â€¢ LangGraph v1.0 â€¢ Python 3.13"):::base

    Base === P & M & D & S & O
    P & M & D & S & O === Roof
```

### 1.3 å¼€ç®±å³ç”¨ä½“éªŒ

FinchBot ä»¥ **"å¼€ç®±å³ç”¨"** ä¸ºæ ¸å¿ƒè®¾è®¡åŸåˆ™ï¼š

#### å¤šå¹³å°æ¶ˆæ¯æ”¯æŒ

FinchBot ç»Ÿä¸€çš„æ¶ˆæ¯è·¯ç”±æ¶æ„ â€”â€” ä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯è§¦è¾¾ï¼š

- Web (WebSocket)
- Discord
- é’‰é’‰ (Webhook)
- é£ä¹¦ (Bot API)
- å¾®ä¿¡ (ä¼ä¸šå¾®ä¿¡)
- é‚®ä»¶ (SMTP/IMAP)

#### Web ç•Œé¢ï¼ˆBetaï¼‰

FinchBot æä¾›åŸºäº React + Vite + FastAPI çš„ç°ä»£åŒ– Web ç•Œé¢ï¼š

```bash
# å¯åŠ¨åç«¯æœåŠ¡
uv run finchbot serve

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨å‰ç«¯
cd web
npm install
npm run dev
```

Web ç•Œé¢æ”¯æŒï¼š
- é€šè¿‡ WebSocket å®æ—¶èŠå¤©
- å¤šä¼šè¯ç®¡ç†ï¼ˆå³å°†æ¨å‡ºï¼‰
- å¯Œæ–‡æœ¬æ¸²æŸ“

#### å‘½ä»¤è¡Œç•Œé¢

FinchBot æä¾›åŠŸèƒ½å®Œæ•´çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œä¸‰ä¸ªå‘½ä»¤å³å¯ä¸Šæ‰‹ï¼š

```bash
# ç¬¬ä¸€æ­¥ï¼šé…ç½® API Key å’Œé»˜è®¤æ¨¡å‹
uv run finchbot config

# ç¬¬äºŒæ­¥ï¼šç®¡ç†ä¼šè¯
uv run finchbot sessions

# ç¬¬ä¸‰æ­¥ï¼šå¼€å§‹èŠå¤©
uv run finchbot chat
```

| ç‰¹æ€§ | è¯´æ˜ |
| :---: | :--- |
| **ç¯å¢ƒå˜é‡é…ç½®** | æ‰€æœ‰é…ç½®å‡å¯é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ï¼ˆ`OPENAI_API_KEY`ã€`ANTHROPIC_API_KEY` ç­‰ï¼‰ |
| **i18n æ”¯æŒ** | å†…ç½®ä¸­è‹±æ–‡æ”¯æŒï¼Œè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿè¯­è¨€ |
| **è‡ªåŠ¨é™çº§** | ç½‘é¡µæœç´¢è‡ªåŠ¨é™çº§ï¼šTavily â†’ Brave â†’ DuckDuckGo |

---

## 2. æ¶æ„è®¾è®¡ï¼šæ¨¡å—åŒ–ä¸å·¥å‚æ¨¡å¼

FinchBot ä½¿ç”¨å·¥å‚æ¨¡å¼å¢å¼ºçµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

### 2.1 æ•´ä½“æ¶æ„

```mermaid
graph TD
    classDef userLayer fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#b71c1c;
    classDef factoryLayer fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,color:#f57f17;
    classDef coreLayer fill:#e1f5fe,stroke:#01579b,stroke-width:2px,color:#01579b;
    classDef memoryLayer fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px,color:#1b5e20;
    classDef toolLayer fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#7b1fa2;
    classDef channelLayer fill:#fce4ec,stroke:#c2185b,stroke-width:2px,color:#c2185b;
    classDef infraLayer fill:#e0f2f1,stroke:#00695c,stroke-width:2px,color:#00695c;

    subgraph UserLayer [ç”¨æˆ·äº¤äº’å±‚]
        direction LR
        CLI[CLI ç•Œé¢]
        WebUI[Web ç•Œé¢]
        API[REST API]
    end
    class CLI,WebUI,API userLayer

    subgraph ChannelSystem [é€šé“ç³»ç»Ÿ - å¤šå¹³å°æ¶ˆæ¯]
        direction TB
        Bus[MessageBus]
        CM[ChannelManager]

        Bus <--> CM

        subgraph Channels [å¹³å°é€šé“]
            WebCh[Web]
            DiscordCh[Discord]
            DingTalkCh[é’‰é’‰]
            FeishuCh[é£ä¹¦]
            WeChatCh[å¾®ä¿¡]
            EmailCh[é‚®ä»¶]
        end

        CM <--> Channels
    end
    class Bus,CM channelLayer
    class WebCh,DiscordCh,DingTalkCh,FeishuCh,WeChatCh,EmailCh channelLayer

    subgraph FactoryLayer [å·¥å‚å±‚ - ç»„ä»¶è£…é…]
        direction LR
        AF[AgentFactory]
        TF[ToolFactory]
    end
    class AF,TF factoryLayer

    subgraph AgentCore [Agent æ ¸å¿ƒ - æ™ºèƒ½å¼•æ“]
        direction TB
        Agent[LangGraph Agent]
        CB[ContextBuilder]
        SP[ç³»ç»Ÿæç¤ºè¯]

        Agent --> CB
        CB --> SP
    end
    class Agent,CB,SP coreLayer

    subgraph MemorySystem [è®°å¿†ç³»ç»Ÿ - åŒå±‚å­˜å‚¨]
        direction TB
        MM[MemoryManager]

        subgraph Services [æœåŠ¡å±‚]
            RS[RetrievalService]
            CS[ClassificationService]
            IS[ImportanceScorer]
        end

        subgraph Storage [å­˜å‚¨å±‚]
            SQLite[(SQLite)]
            Vector[(VectorStore)]
        end

        MM --> RS & CS & IS
        RS --> SQLite & Vector
        SQLite <--> Vector
    end
    class MM,RS,CS,IS,SQLite,Vector memoryLayer

    subgraph ToolEcosystem [å·¥å…·ç”Ÿæ€ - 11 ä¸ªå†…ç½®å·¥å…·]
        direction TB
        TR[ToolRegistry]

        subgraph BuiltInTools [å†…ç½®å·¥å…·]
            FileTools[æ–‡ä»¶æ“ä½œ]
            WebTools[ç½‘ç»œ]
            MemTools[è®°å¿†]
            SysTools[ç³»ç»Ÿ]
        end

        TR --> BuiltInTools
    end
    class TR,FileTools,WebTools,MemTools,SysTools toolLayer

    subgraph LLMProviders [LLM æä¾›å•† - å¤šæ¨¡å‹æ”¯æŒ]
        direction LR
        OpenAI[OpenAI]
        Anthropic[Anthropic]
        DeepSeek[DeepSeek]
        Gemini[Gemini]
        Groq[Groq]
        Moonshot[Moonshot]
    end
    class OpenAI,Anthropic,DeepSeek,Gemini,Groq,Moonshot infraLayer

    CLI & WebUI --> Bus
    API --> AF

    Bus --> AF
    AF --> Agent
    AF --> TF
    TF --> TR

    Agent <--> MM
    Agent <--> TR
    Agent --> OpenAI & Anthropic & DeepSeek & Gemini & Groq & Moonshot
```

### 2.2 Agent å·¥å‚

`AgentFactory` ç»„è£…å®Œæ•´çš„ Agent å®ä¾‹ï¼Œéšè—åˆå§‹åŒ–å¤æ‚æ€§ã€‚

```python
# ç®€æ´çš„åˆ›å»ºæ¥å£
agent, checkpointer, tools = AgentFactory.create_for_cli(
    session_id=session_id,
    workspace=ws_path,
    model=chat_model,
    config=config_obj,
)
```

### 2.3 å·¥å…·å·¥å‚

`ToolFactory` ç®¡ç†å·¥å…·å®ä¾‹åŒ–ï¼Œå¤„ç†ä¾èµ–å’Œé™çº§é€»è¾‘ã€‚

---

## 3. è®°å¿†ç³»ç»Ÿï¼šåŒå±‚å­˜å‚¨ + Agentic RAG

FinchBot å®ç°äº†å…ˆè¿›çš„ **åŒå±‚è®°å¿†** æ¶æ„ï¼Œè§£å†³ä¸Šä¸‹æ–‡é™åˆ¶å’Œé—å¿˜é—®é¢˜ã€‚

### 3.1 ä¸ºä»€ä¹ˆæ˜¯ Agentic RAGï¼Ÿ

| ç»´åº¦ | ä¼ ç»Ÿ RAG | Agentic RAGï¼ˆFinchBotï¼‰ |
| :---: | :--- | :--- |
| **è§¦å‘æ–¹å¼** | å›ºå®šæµç¨‹ | Agent è‡ªä¸»å†³ç­– |
| **æ£€ç´¢ç­–ç•¥** | å•ä¸€å‘é‡æ£€ç´¢ | æ··åˆæ£€ç´¢ + åŠ¨æ€æƒé‡ |
| **è®°å¿†ç®¡ç†** | è¢«åŠ¨å­˜å‚¨ | ä¸»åŠ¨ remember/recall/forget |
| **åˆ†ç±»èƒ½åŠ›** | æ—  | è‡ªåŠ¨åˆ†ç±» + è¯„åˆ† |
| **æ›´æ–°æœºåˆ¶** | å…¨é‡é‡å»º | å¢é‡åŒæ­¥ |

### 3.2 åŒå±‚å­˜å‚¨æ¶æ„

```mermaid
flowchart TB
    classDef businessLayer fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,color:#0d47a1;
    classDef serviceLayer fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,color:#f57f17;
    classDef storageLayer fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px,color:#1b5e20;

    subgraph Business [ä¸šåŠ¡å±‚]
        MM[MemoryManager<br/>remember/recall/forget]
    end
    class MM businessLayer

    subgraph Services [æœåŠ¡å±‚]
        RS[RetrievalService<br/>æ··åˆæ£€ç´¢ + RRF]
        CS[ClassificationService<br/>è‡ªåŠ¨åˆ†ç±»]
        IS[ImportanceScorer<br/>é‡è¦æ€§è¯„åˆ†]
        ES[EmbeddingService<br/>FastEmbed æœ¬åœ°]
    end
    class RS,CS,IS,ES serviceLayer

    subgraph Storage [å­˜å‚¨å±‚]
        direction LR
        SQLite[(SQLiteStore<br/>çœŸç›¸æº<br/>ç²¾ç¡®æŸ¥è¯¢)]
        Vector[(VectorStore<br/>ChromaDB<br/>è¯­ä¹‰æ£€ç´¢)]
        DS[DataSyncManager<br/>å¢é‡åŒæ­¥]
    end
    class SQLite,Vector,DS storageLayer

    MM --> RS & CS & IS
    RS --> SQLite & Vector
    CS --> SQLite
    IS --> SQLite
    ES --> Vector

    SQLite <--> DS <--> Vector
```

### 3.3 æ··åˆæ£€ç´¢ç­–ç•¥

FinchBot é‡‡ç”¨ **åŠ æƒ RRFï¼ˆWeighted Reciprocal Rank Fusionï¼‰** èåˆå…³é”®è¯å’Œå‘é‡æ£€ç´¢ç»“æœã€‚

```python
class QueryType(StrEnum):
    """æŸ¥è¯¢ç±»å‹å†³å®šæ£€ç´¢æƒé‡"""
    KEYWORD_ONLY = "keyword_only"      # çº¯å…³é”®è¯ï¼ˆ1.0/0.0ï¼‰
    SEMANTIC_ONLY = "semantic_only"    # çº¯è¯­ä¹‰ï¼ˆ0.0/1.0ï¼‰
    FACTUAL = "factual"                # äº‹å®å‹ï¼ˆ0.8/0.2ï¼‰
    CONCEPTUAL = "conceptual"          # æ¦‚å¿µå‹ï¼ˆ0.2/0.8ï¼‰
    COMPLEX = "complex"                # å¤æ‚å‹ï¼ˆ0.5/0.5ï¼‰
    AMBIGUOUS = "ambiguous"            # æ­§ä¹‰å‹ï¼ˆ0.3/0.7)
```

---

## 4. åŠ¨æ€æç¤ºè¯ï¼šå¯ç¼–è¾‘çš„å¤§è„‘

FinchBot é‡‡ç”¨ **æ–‡ä»¶ç³»ç»Ÿ + æ¨¡å—åŒ–ç»„è£…** çš„æ–¹å¼ç®¡ç†æç¤ºè¯ã€‚

### 4.1 Bootstrap æ–‡ä»¶ç³»ç»Ÿ

```
~/.finchbot/
â”œâ”€â”€ SYSTEM.md           # è§’è‰²å®šä¹‰
â”œâ”€â”€ MEMORY_GUIDE.md     # è®°å¿†ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ SOUL.md             # æ€§æ ¼è®¾å®š
â”œâ”€â”€ AGENT_CONFIG.md     # Agent é…ç½®
â””â”€â”€ workspace/
    â””â”€â”€ skills/         # è‡ªå®šä¹‰æŠ€èƒ½
```

### 4.2 åŠ è½½æµç¨‹

```mermaid
flowchart TD
    classDef startEnd fill:#ffebee,stroke:#c62828,stroke-width:2px,color:#b71c1c;
    classDef process fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,color:#0d47a1;
    classDef file fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,color:#f57f17;
    classDef output fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px,color:#1b5e20;

    A([Agent å¯åŠ¨]):::startEnd --> B[åŠ è½½ Bootstrap æ–‡ä»¶]:::process

    B --> C[SYSTEM.md]:::file
    B --> D[MEMORY_GUIDE.md]:::file
    B --> E[SOUL.md]:::file
    B --> F[AGENT_CONFIG.md]:::file

    C --> G[ç»„è£…æç¤ºè¯]:::process
    D --> G
    E --> G
    F --> G

    G --> H[åŠ è½½å¸¸é©»æŠ€èƒ½]:::process
    H --> I[æ„å»ºæŠ€èƒ½æ‘˜è¦ XML]:::process
    I --> J[ç”Ÿæˆå·¥å…·æ–‡æ¡£]:::process
    J --> K[æ³¨å…¥è¿è¡Œæ—¶ä¿¡æ¯]:::process
    K --> L[å®Œæ•´ç³»ç»Ÿæç¤º]:::output

    L --> M([å‘é€ç»™ LLM]):::startEnd
```

---

## 5. æŠ€èƒ½ä¸å·¥å…·ï¼šæ— é™æ‰©å±•æ€§

### 5.1 å·¥å…·ç³»ç»Ÿ

å·¥å…·æ˜¯ Agent ä¸ä¸–ç•Œäº¤äº’çš„æ¡¥æ¢ã€‚FinchBot æä¾› 11 ä¸ªå†…ç½®å·¥å…·ã€‚

#### ç½‘é¡µæœç´¢ï¼šä¸‰å¼•æ“é™çº§è®¾è®¡

```mermaid
flowchart TD
    classDef check fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,color:#f57f17;
    classDef engine fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px,color:#1b5e20;
    classDef fallback fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,color:#0d47a1;

    Start[ç½‘é¡µæœç´¢è¯·æ±‚]:::check

    Check1{TAVILY_API_KEY<br/>å·²è®¾ç½®ï¼Ÿ}:::check
    Tavily[Tavily<br/>è´¨é‡æœ€ä½³<br/>AI ä¼˜åŒ–]:::engine

    Check2{BRAVE_API_KEY<br/>å·²è®¾ç½®ï¼Ÿ}:::check
    Brave[Brave Search<br/>éšç§å‹å¥½<br/>å…è´¹é¢åº¦å¤§]:::engine

    DDG[DuckDuckGo<br/>é›¶é…ç½®<br/>å§‹ç»ˆå¯ç”¨]:::fallback

    Start --> Check1
    Check1 -->|æ˜¯| Tavily
    Check1 -->|å¦| Check2
    Check2 -->|æ˜¯| Brave
    Check2 -->|å¦| DDG
```

| ä¼˜å…ˆçº§ | å¼•æ“ | API Key | ç‰¹ç‚¹ |
| :---: | :--- | :---: | :--- |
| 1 | **Tavily** | éœ€è¦ | è´¨é‡æœ€ä½³ï¼Œä¸“ä¸º AI ä¼˜åŒ– |
| 2 | **Brave** | éœ€è¦ | éšç§å‹å¥½ï¼Œå…è´¹é¢åº¦å¤§ |
| 3 | **DuckDuckGo** | æ— éœ€ | å§‹ç»ˆå¯ç”¨ï¼Œé›¶é…ç½® |

### 5.2 æŠ€èƒ½ç³»ç»Ÿ

æŠ€èƒ½é€šè¿‡ Markdown æ–‡ä»¶å®šä¹‰ã€‚

#### æ€æ‰‹çº§ç‰¹æ€§ï¼šAgent è‡ªåŠ¨åˆ›å»ºæŠ€èƒ½

> **åªéœ€å‘Šè¯‰ Agent ä½ æƒ³è¦ä»€ä¹ˆæŠ€èƒ½ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨åˆ›å»ºï¼**

```
ç”¨æˆ·ï¼šå¸®æˆ‘åˆ›å»ºä¸€ä¸ªç¿»è¯‘æŠ€èƒ½ï¼Œå¯ä»¥æŠŠä¸­æ–‡ç¿»è¯‘æˆè‹±æ–‡ã€‚

Agentï¼šå¥½çš„ï¼Œæˆ‘æ¥ä¸ºä½ åˆ›å»ºç¿»è¯‘æŠ€èƒ½...
       [è°ƒç”¨ skill-creator æŠ€èƒ½]
       å·²åˆ›å»º skills/translator/SKILL.md
       ç°åœ¨ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ç¿»è¯‘åŠŸèƒ½äº†ï¼
```

---

## 6. Web ç•Œé¢ä¸ Docker éƒ¨ç½²

### 6.1 Web ç•Œé¢ï¼ˆBetaï¼‰

FinchBot ç°å·²æä¾›åŸºäº React + Vite + FastAPI çš„ç°ä»£åŒ– Web ç•Œé¢ã€‚

```mermaid
flowchart TB
    classDef backend fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,color:#0d47a1;
    classDef frontend fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px,color:#1b5e20;
    classDef user fill:#fff9c4,stroke:#fbc02d,stroke-width:2px,color:#f57f17;

    subgraph Backend [åç«¯æœåŠ¡]
        API[FastAPI<br/>:8000]:::backend
        WS[WebSocket<br/>å®æ—¶é€šä¿¡]:::backend
    end

    subgraph Frontend [å‰ç«¯ç•Œé¢]
        React[React + Vite<br/>:5173]:::frontend
        MD[Markdown æ¸²æŸ“]:::frontend
    end

    U[ç”¨æˆ·]:::user --> React
    React <--> WS
    WS <--> API

    API --> React
    React --> MD
    MD --> U
```

**å¯åŠ¨æ–¹å¼**ï¼š

```bash
# å¯åŠ¨åç«¯æœåŠ¡
uv run finchbot serve

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨å‰ç«¯
cd web
npm install
npm run dev
```

Web ç•Œé¢ç‰¹æ€§ï¼š
- å®æ—¶æµå¼è¾“å‡º
- Markdown å¯Œæ–‡æœ¬æ¸²æŸ“
- ä»£ç é«˜äº®
- è‡ªåŠ¨åŠ è½½å†å²

### 6.2 Docker éƒ¨ç½²

FinchBot æä¾›å®Œæ•´çš„ Docker æ”¯æŒï¼Œä¸€é”®éƒ¨ç½²ï¼š

```bash
# 1. å…‹éš†ä»“åº“
git clone https://gitee.com/xt765/FinchBot.git
cd finchbot

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„ API Key

# 3. æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d

# 4. è®¿é—®æœåŠ¡
# Web ç•Œé¢ï¼šhttp://localhost:8000
```

**docker-compose.yml é…ç½®**ï¼š

```yaml
services:
  finchbot:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: finchbot
    ports:
      - "8000:8000"
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - FINCHBOT_LANGUAGE=zh-CN
    volumes:
      - finchbot_workspace:/root/.finchbot/workspace
      - finchbot_models:/root/.cache/huggingface
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      retries: 3

volumes:
  finchbot_workspace:
  finchbot_models:
```

**Docker éƒ¨ç½²ç‰¹æ€§**ï¼š

| ç‰¹æ€§ | è¯´æ˜ |
| :---: | :--- |
| **ä¸€é”®éƒ¨ç½²** | `docker-compose up -d` |
| **æŒä¹…åŒ–å­˜å‚¨** | é€šè¿‡å·ç®¡ç†å·¥ä½œåŒºå’Œæ¨¡å‹ç¼“å­˜ |
| **å¥åº·æ£€æŸ¥** | å†…ç½®å®¹å™¨å¥åº·ç›‘æ§ |
| **å¤šæ¶æ„æ”¯æŒ** | æ”¯æŒ x86_64 å’Œ ARM64 |

---

## 7. LangChain 1.2 å®è·µ

FinchBot åŸºäºæœ€æ–°æŠ€æœ¯æ ˆæ„å»ºã€‚

### 7.1 æ”¯æŒçš„æä¾›å•†

| æä¾›å•† | æ¨¡å‹ | ç‰¹ç‚¹ |
| :---: | :--- | :--- |
| OpenAI | GPT-5, GPT-5.2, O3-mini | èƒ½åŠ›æœ€å¼º |
| Anthropic | Claude Sonnet 4.5, Opus 4.6 | å®‰å…¨æ€§é«˜ï¼Œé•¿ä¸Šä¸‹æ–‡ |
| DeepSeek | DeepSeek Chat, Reasoner | æ€§ä»·æ¯”é«˜ |
| Gemini | Gemini 2.5 Flash | Google æœ€æ–° |
| Groq | Llama 4 Scout/Maverick | æé€Ÿæ¨ç† |
| Moonshot | Kimi K1.5/K2.5 | é•¿ä¸Šä¸‹æ–‡ |

---

## 8. æ€»ç»“

FinchBot æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„ Agent æ¡†æ¶ï¼š

| ç‰¹æ€§ | äº®ç‚¹ |
| :---: | :--- |
| **æ¶æ„** | å·¥å‚æ¨¡å¼ï¼Œé«˜å†…èš |
| **è®°å¿†** | åŒå±‚å­˜å‚¨ï¼ŒAgentic RAGï¼ŒåŠ æƒ RRF |
| **æç¤ºè¯** | æ–‡ä»¶ç³»ç»Ÿï¼Œçƒ­é‡è½½ï¼Œæ¨¡å—åŒ– |
| **å·¥å…·** | æ³¨å†Œè¡¨æ¨¡å¼ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œè‡ªåŠ¨é™çº§ |
| **æŠ€èƒ½** | Markdown å®šä¹‰ï¼Œè‡ªåŠ¨åˆ›å»º |
| **æŠ€æœ¯æ ˆ** | LangChain v1.2ï¼ŒLangGraph v1.0 |
| **éƒ¨ç½²** | CLI / Web ç•Œé¢ / Docker |
| **ä½“éªŒ** | ç¯å¢ƒå˜é‡ï¼ŒRich CLIï¼Œi18n |

å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªï¼š

- éšç§ä¼˜å…ˆ
- çœŸæ­£æŒä¹…åŒ–
- ç”Ÿäº§å°±ç»ª
- çµæ´»å¯æ‰©å±•
- ç°ä»£æ¶æ„
- å¼€ç®±å³ç”¨
- å¤šç§éƒ¨ç½²æ–¹å¼

çš„æ¡†æ¶ï¼ŒFinchBot å€¼å¾—ä¸€è¯•ã€‚

---

## é“¾æ¥

- **é¡¹ç›®åœ°å€**ï¼š[GitHub - FinchBot](https://github.com/xt765/FinchBot) | [Gitee - FinchBot](https://gitee.com/xt765/FinchBot)
- **æ–‡æ¡£**ï¼š[FinchBot æ–‡æ¡£](https://github.com/xt765/FinchBot/tree/main/docs)
- **é—®é¢˜åé¦ˆ**ï¼š[GitHub Issues](https://github.com/xt765/FinchBot/issues)

---

> å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star
